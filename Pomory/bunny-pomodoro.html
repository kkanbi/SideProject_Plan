<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ° í† ë¼ í¬ëª¨ë„ë¡œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Apple SD Gothic Neo', sans-serif;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 30px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            max-width: 400px;
            width: 100%;
            position: relative;
        }

        /* í—¤ë” */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .menu-icon {
            font-size: 1.5em;
            cursor: pointer;
            padding: 5px;
            transition: transform 0.3s;
        }

        .menu-icon:hover {
            transform: scale(1.1);
        }

        .title-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .title {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
        }

        .character-icon {
            font-size: 1.5em;
            cursor: pointer;
            padding: 5px;
            transition: transform 0.3s;
            background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #ff9a9e;
        }

        .character-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 3px 10px rgba(255, 154, 158, 0.4);
        }

        .point-badge {
            background: #fff3cd;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            color: #856404;
            border: 2px solid #ffc107;
        }

        /* í™”ë©´ ì „í™˜ */
        .screen {
            display: none;
        }

        .screen.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ë©”ì¸ í™”ë©´ - ìºë¦­í„°ì™€ ì›í˜• íƒ€ì´ë¨¸ */
        .main-circle {
            position: relative;
            width: 280px;
            height: 280px;
            margin: 40px auto;
        }

        /* SVG ì›í˜• ì§„í–‰ë°” */
        .progress-ring {
            transform: rotate(-90deg);
        }

        .progress-ring-circle {
            stroke: #e0e0e0;
            fill: none;
            stroke-width: 8;
        }

        .progress-ring-progress {
            stroke: #ff9a9e;
            fill: none;
            stroke-width: 8;
            stroke-linecap: round;
            transition: stroke-dashoffset 1s linear;
        }

        /* ìºë¦­í„° */
        .character {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 150px;
            height: 150px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .character:hover {
            transform: translate(-50%, -50%) scale(1.1);
        }

        .character:active {
            transform: translate(-50%, -50%) scale(0.95);
        }

        /* ìºë¦­í„° SVG */
        .bunny-body {
            fill: #fff;
            stroke: #333;
            stroke-width: 3;
        }

        .bunny-ear {
            fill: #fff;
            stroke: #333;
            stroke-width: 3;
        }

        .bunny-face {
            fill: none;
            stroke: #333;
            stroke-width: 2;
        }

        /* íƒœê·¸ */
        .tag-label {
            text-align: center;
            margin: 20px 0;
        }

        .tag {
            display: inline-block;
            background: #f8f9fa;
            padding: 8px 20px;
            border-radius: 20px;
            border: 2px solid #333;
            font-weight: 600;
            color: #333;
        }

        /* íƒ€ì´ë¨¸ ì˜¤ë¸Œ (ë“œë˜ê·¸ ê°€ëŠ¥í•œ ë™ê·¸ë€ ì˜¤ë¸Œì íŠ¸) */
        .timer-orb {
            position: absolute;
            width: 60px;
            height: 60px;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            cursor: grab;
            transition: transform 0.1s;
            z-index: 10;
        }

        .timer-orb:active {
            cursor: grabbing;
        }

        .timer-orb.dragging {
            transition: none;
        }

        .orb-inner {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            border-radius: 50%;
            border: 4px solid #333;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            color: #333;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .timer-orb:hover .orb-inner {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }

        /* ë©”ì¸ íƒ€ì´ë¨¸ ë””ìŠ¤í”Œë ˆì´ */
        .main-timer-display {
            font-size: 3em;
            font-weight: bold;
            color: #ff6b6b;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            display: none;
        }

        .main-timer-display.show {
            display: block;
        }

        /* ë©”ì¸ ì»¨íŠ¸ë¡¤ ë²„íŠ¼ */
        .main-controls {
            display: none;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .main-controls.show {
            display: flex;
        }

        /* ìºë¦­í„° ìŠ¤í…Œì´í„°ìŠ¤ í™”ë©´ */
        .character-display-large {
            width: 250px;
            height: 250px;
            margin: 20px auto 30px;
            background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 4px solid #ff9a9e;
            box-shadow: 0 10px 30px rgba(255, 154, 158, 0.3);
        }

        .level-info {
            margin: 30px 0;
            text-align: center;
        }

        .level-display {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .level-label {
            font-size: 1em;
            color: #666;
            font-weight: 600;
        }

        .level-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #ff6b6b;
        }

        .exp-bar-container {
            width: 100%;
            height: 20px;
            background: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid #333;
        }

        .exp-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff9a9e 0%, #fad0c4 100%);
            width: 0%;
            transition: width 0.5s ease;
        }

        .exp-text {
            margin-top: 8px;
            font-size: 0.9em;
            color: #666;
            font-weight: 600;
        }

        .basic-stats {
            margin: 30px 0;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin: 8px 0;
            background: #f8f9fa;
            border-radius: 12px;
            border: 2px solid #dee2e6;
            transition: all 0.3s;
        }

        .stat-row:hover {
            background: #fff;
            transform: translateX(5px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .stat-name {
            font-size: 1em;
            color: #333;
            font-weight: 600;
        }

        .stat-value {
            font-size: 1.3em;
            font-weight: bold;
            color: #ff6b6b;
        }

        /* RPG ìŠ¤íƒ€ì¼ ìŠ¤íƒ¯ */
        .rpg-stats {
            margin: 30px 0;
        }

        .rpg-stat-row {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            margin: 12px 0;
            background: #f8f9fa;
            border-radius: 12px;
            border: 2px solid #dee2e6;
            transition: all 0.3s;
        }

        .rpg-stat-row:hover {
            background: #fff;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .stat-icon {
            font-size: 2em;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 12px;
            border: 2px solid #333;
        }

        .stat-info {
            flex: 1;
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .stat-name {
            font-size: 0.95em;
            color: #333;
            font-weight: 600;
        }

        .stat-number {
            font-size: 1.3em;
            font-weight: bold;
            color: #ff6b6b;
        }

        .stat-bar-container {
            width: 100%;
            height: 12px;
            background: #e0e0e0;
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid #ccc;
        }

        .stat-bar {
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 6px;
        }

        .stat-bar.intelligence {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        }

        .stat-bar.health {
            background: linear-gradient(90deg, #f093fb 0%, #f5576c 100%);
        }

        .stat-bar.beauty {
            background: linear-gradient(90deg, #ffecd2 0%, #fcb69f 100%);
        }

        .stat-bar.social {
            background: linear-gradient(90deg, #a8edea 0%, #fed6e3 100%);
        }

        /* ì´í•© ìŠ¤íƒ¯ ì¹´ë“œ */
        .total-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 30px 0;
        }

        .total-stat-card {
            background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
            padding: 20px;
            border-radius: 15px;
            border: 3px solid #333;
            text-align: center;
        }

        .total-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .total-value {
            font-size: 2em;
            font-weight: bold;
            color: #ff6b6b;
        }

        .character-mood {
            margin: 30px 0;
            padding: 20px;
            background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
            border-radius: 15px;
            border: 2px solid #ff9a9e;
            text-align: center;
        }

        .mood-icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .mood-text {
            font-size: 1.1em;
            color: #666;
            font-weight: 600;
        }

        .status-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 30px;
            color: #333;
            text-align: center;
        }

        .control-btn {
            padding: 15px 30px;
            border: 3px solid #333;
            border-radius: 25px;
            background: white;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .control-btn:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
        }

        .control-btn:active {
            transform: translateY(0);
        }

        /* History í™”ë©´ ìŠ¤íƒ€ì¼ */
        .today-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .summary-card {
            background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
            padding: 15px;
            border-radius: 12px;
            border: 2px solid #333;
            text-align: center;
        }

        .summary-label {
            font-size: 0.8em;
            color: #666;
            margin-bottom: 5px;
        }

        .summary-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #ff6b6b;
        }

        .recent-activities {
            margin: 30px 0;
        }

        .activity-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            margin: 8px 0;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px solid #dee2e6;
        }

        .activity-icon {
            font-size: 1.5em;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 50%;
            border: 2px solid #ff9a9e;
        }

        .activity-info {
            flex: 1;
        }

        .activity-title {
            font-weight: 600;
            color: #333;
        }

        .activity-time {
            font-size: 0.8em;
            color: #999;
        }

        .activity-points {
            font-weight: bold;
            color: #ff6b6b;
            font-size: 1.1em;
        }

        .achievements {
            margin: 30px 0;
        }

        .achievement-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .achievement-card {
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #333;
            text-align: center;
            transition: all 0.3s;
        }

        .achievement-card.unlocked {
            background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
        }

        .achievement-card.locked {
            background: #f8f9fa;
            opacity: 0.6;
        }

        .achievement-card:hover {
            transform: translateY(-5px);
        }

        .achievement-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .achievement-name {
            font-size: 0.9em;
            font-weight: 600;
            color: #333;
        }

        /* ë„¤ë¹„ê²Œì´ì…˜ */
        .nav-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 30px;
        }

        .nav-btn {
            width: 50px;
            height: 50px;
            border: 2px solid #333;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: #f8f9fa;
            transform: scale(1.1);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }

        /* ì„¤ì • í™”ë©´ */
        .settings-screen {
            padding: 20px 0;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px solid #dee2e6;
        }

        .setting-label {
            font-weight: 600;
            color: #333;
        }

        .setting-input {
            width: 80px;
            padding: 8px;
            border: 2px solid #333;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
        }

        /* í†µê³„ ì°¨íŠ¸ */
        .chart-container {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 2px solid #dee2e6;
        }

        .chart-bars {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 150px;
            margin-top: 20px;
        }

        .chart-bar {
            width: 30px;
            background: linear-gradient(to top, #ff9a9e 0%, #fad0c4 100%);
            border-radius: 5px 5px 0 0;
            transition: all 0.3s;
            position: relative;
        }

        .chart-bar:hover {
            opacity: 0.8;
        }

        .chart-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8em;
            color: #666;
        }

        /* ì•Œë¦¼ */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 15px 30px;
            border-radius: 15px;
            border: 3px solid #333;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: none;
            z-index: 1000;
            animation: slideDown 0.3s;
        }

        .notification.show {
            display: block;
        }

        @keyframes slideDown {
            from { transform: translate(-50%, -100px); opacity: 0; }
            to { transform: translate(-50%, 0); opacity: 1; }
        }

        .back-btn {
            position: absolute;
            top: 30px;
            left: 30px;
            width: 40px;
            height: 40px;
            border: 2px solid #333;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            transition: all 0.3s;
        }

        .back-btn:hover {
            background: #f8f9fa;
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <div class="notification" id="notification">
        <div id="notificationText">ì•Œë¦¼ ë©”ì‹œì§€</div>
    </div>

    <div class="container">
        <!-- í—¤ë” -->
        <div class="header">
            <div class="menu-icon" onclick="showScreen('settings')">â˜°</div>
            <div class="title-group">
                <div class="title">ê°ì–‘</div>
                <div class="character-icon" onclick="showScreen('character')">ğŸ°</div>
            </div>
            <div class="point-badge" id="pointBadge">Point: 0</div>
        </div>

        <!-- ë©”ì¸ í™”ë©´ -->
        <div class="screen active" id="mainScreen">
            <div class="main-circle">
                <!-- SVG ì›í˜• ì§„í–‰ë°” -->
                <svg width="280" height="280" class="progress-ring">
                    <circle class="progress-ring-circle" cx="140" cy="140" r="130"/>
                    <circle class="progress-ring-progress" id="progressCircle" cx="140" cy="140" r="130"
                            stroke-dasharray="817" stroke-dashoffset="817"/>
                </svg>

                <!-- ìºë¦­í„° -->
                <div class="character" onclick="showScreen('character')">
                    <svg viewBox="0 0 150 150">
                        <!-- ê·€ -->
                        <ellipse class="bunny-ear" cx="55" cy="30" rx="15" ry="35" transform="rotate(-20 55 30)"/>
                        <ellipse class="bunny-ear" cx="95" cy="30" rx="15" ry="35" transform="rotate(20 95 30)"/>
                        <!-- ëª¸í†µ -->
                        <circle class="bunny-body" cx="75" cy="85" r="45"/>
                        <!-- ì–¼êµ´ -->
                        <circle cx="60" cy="75" r="3" fill="#333"/>
                        <circle cx="90" cy="75" r="3" fill="#333"/>
                        <path class="bunny-face" d="M 75 85 Q 75 90 75 90"/>
                        <path class="bunny-face" d="M 65 90 Q 75 95 85 90"/>
                        <!-- ì† -->
                        <circle cx="35" cy="95" r="12" fill="#fff" stroke="#333" stroke-width="3"/>
                        <circle cx="115" cy="95" r="12" fill="#fff" stroke="#333" stroke-width="3"/>
                    </svg>
                </div>

                <!-- ë“œë˜ê·¸ ê°€ëŠ¥í•œ íƒ€ì´ë¨¸ ì˜¤ë¸Œ -->
                <div class="timer-orb" id="timerOrb">
                    <div class="orb-inner">
                        <span id="orbTime">25</span>
                    </div>
                </div>
            </div>

            <!-- íƒœê·¸ì™€ íƒ€ì´ë¨¸ í‘œì‹œ -->
            <div class="tag-label">
                <div class="tag" id="currentTag">ë“œë˜ê·¸í•´ì„œ ì‹œê°„ ì„¤ì •</div>
            </div>

            <!-- íƒ€ì´ë¨¸ ë””ìŠ¤í”Œë ˆì´ (íƒ€ì´ë¨¸ ì‘ë™ ì¤‘ì—ë§Œ í‘œì‹œ) -->
            <div class="main-timer-display" id="mainTimerDisplay">25:00</div>

            <!-- ì»¨íŠ¸ë¡¤ ë²„íŠ¼ (íƒ€ì´ë¨¸ ì‘ë™ ì¤‘ì—ë§Œ í‘œì‹œ) -->
            <div class="main-controls" id="mainControls">
                <button class="control-btn" onclick="pauseTimer()">â¸</button>
                <button class="control-btn" onclick="resetTimer()">â¹</button>
            </div>
        </div>

        <!-- ìºë¦­í„° ìŠ¤í…Œì´í„°ìŠ¤ í™”ë©´ -->
        <div class="screen" id="characterScreen">
            <div class="back-btn" onclick="showScreen('main')">â†</div>
            
            <div class="status-title">ğŸ° ê°ì–‘</div>

            <!-- ìºë¦­í„° ë””ìŠ¤í”Œë ˆì´ - í¬ê²Œ -->
            <div class="character-display-large">
                <svg viewBox="0 0 150 150">
                    <ellipse class="bunny-ear" cx="55" cy="30" rx="15" ry="35" transform="rotate(-20 55 30)"/>
                    <ellipse class="bunny-ear" cx="95" cy="30" rx="15" ry="35" transform="rotate(20 95 30)"/>
                    <circle class="bunny-body" cx="75" cy="85" r="45"/>
                    <circle cx="60" cy="75" r="3" fill="#333"/>
                    <circle cx="90" cy="75" r="3" fill="#333"/>
                    <path class="bunny-face" d="M 75 85 Q 75 90 75 90"/>
                    <path class="bunny-face" d="M 65 90 Q 75 95 85 90"/>
                    <circle cx="35" cy="95" r="12" fill="#fff" stroke="#333" stroke-width="3"/>
                    <circle cx="115" cy="95" r="12" fill="#fff" stroke="#333" stroke-width="3"/>
                </svg>
            </div>

            <!-- ë ˆë²¨ê³¼ ê²½í—˜ì¹˜ ë°” -->
            <div class="level-info">
                <div class="level-display">
                    <span class="level-label">Level</span>
                    <span class="level-number" id="characterLevel">1</span>
                </div>
                <div class="exp-bar-container">
                    <div class="exp-bar" id="expBar"></div>
                </div>
                <div class="exp-text" id="expText">0 / 500 XP</div>
            </div>

            <!-- RPG ìŠ¤íƒ€ì¼ ìŠ¤í…Œì´í„°ìŠ¤ -->
            <div class="rpg-stats">
                <!-- ì§€ëŠ¥ -->
                <div class="rpg-stat-row">
                    <div class="stat-icon">ğŸ§ </div>
                    <div class="stat-info">
                        <div class="stat-header">
                            <span class="stat-name">ì§€ëŠ¥ (Intelligence)</span>
                            <span class="stat-number" id="statIntelligence">0</span>
                        </div>
                        <div class="stat-bar-container">
                            <div class="stat-bar intelligence" id="barIntelligence"></div>
                        </div>
                    </div>
                </div>

                <!-- ì²´ë ¥ -->
                <div class="rpg-stat-row">
                    <div class="stat-icon">ğŸ’ª</div>
                    <div class="stat-info">
                        <div class="stat-header">
                            <span class="stat-name">ì²´ë ¥ (Health)</span>
                            <span class="stat-number" id="statHealth">0</span>
                        </div>
                        <div class="stat-bar-container">
                            <div class="stat-bar health" id="barHealth"></div>
                        </div>
                    </div>
                </div>

                <!-- ë§¤ë ¥ -->
                <div class="rpg-stat-row">
                    <div class="stat-icon">âœ¨</div>
                    <div class="stat-info">
                        <div class="stat-header">
                            <span class="stat-name">ë§¤ë ¥ (Beauty)</span>
                            <span class="stat-number" id="statBeauty">0</span>
                        </div>
                        <div class="stat-bar-container">
                            <div class="stat-bar beauty" id="barBeauty"></div>
                        </div>
                    </div>
                </div>

                <!-- ì‚¬íšŒì„± -->
                <div class="rpg-stat-row">
                    <div class="stat-icon">ğŸ‘¥</div>
                    <div class="stat-info">
                        <div class="stat-header">
                            <span class="stat-name">ì‚¬íšŒì„± (Social)</span>
                            <span class="stat-number" id="statSocial">0</span>
                        </div>
                        <div class="stat-bar-container">
                            <div class="stat-bar social" id="barSocial"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì´í•© ìŠ¤íƒ¯ -->
            <div class="total-stats">
                <div class="total-stat-card">
                    <div class="total-label">ì´ ìŠ¤íƒ¯ í¬ì¸íŠ¸</div>
                    <div class="total-value" id="totalStatPoints">0</div>
                </div>
                <div class="total-stat-card">
                    <div class="total-label">ì™„ë£Œí•œ í¬ëª¨ë„ë¡œ</div>
                    <div class="total-value" id="totalPomodoros">0</div>
                </div>
            </div>

            <!-- ìƒíƒœ ë©”ì‹œì§€ -->
            <div class="character-mood" id="characterMood">
                <div class="mood-icon">ğŸ˜Š</div>
                <div class="mood-text">ì—´ì‹¬íˆ ì„±ì¥í•˜ê³  ìˆì–´ìš”!</div>
            </div>
        </div>

        <!-- History í™”ë©´ (ê¸°ì¡´ ìºë¦­í„° í™”ë©´ ë‚´ìš©) -->
        <div class="screen" id="historyScreen">
            <div class="back-btn" onclick="showScreen('main')">â†</div>
            
            <div class="status-title">ğŸ“Š History</div>

            <!-- ì˜¤ëŠ˜ì˜ ìš”ì•½ -->
            <div class="today-summary">
                <div class="summary-card">
                    <div class="summary-label">ì˜¤ëŠ˜</div>
                    <div class="summary-value" id="todaySessions">0íšŒ</div>
                </div>
                <div class="summary-card">
                    <div class="summary-label">ì´ë²ˆ ì£¼</div>
                    <div class="summary-value" id="weekSessions">0íšŒ</div>
                </div>
                <div class="summary-card">
                    <div class="summary-label">ì´ ëˆ„ì </div>
                    <div class="summary-value" id="totalSessions">0íšŒ</div>
                </div>
            </div>

            <!-- ì£¼ê°„ í†µê³„ ì°¨íŠ¸ -->
            <div class="chart-container">
                <div style="font-weight: bold; margin-bottom: 15px; font-size: 1.1em;">ğŸ“ˆ ì£¼ê°„ í™œë™</div>
                <div class="chart-bars" id="weeklyChart">
                    <!-- ì°¨íŠ¸ ë°”ë“¤ -->
                </div>
            </div>

            <!-- ìµœê·¼ í™œë™ -->
            <div class="recent-activities">
                <div style="font-weight: bold; margin-bottom: 15px; font-size: 1.1em;">ğŸ• ìµœê·¼ í™œë™</div>
                <div class="activity-list" id="activityList">
                    <div class="activity-item">
                        <div class="activity-icon">ğŸ…</div>
                        <div class="activity-info">
                            <div class="activity-title">í¬ëª¨ë„ë¡œ ì™„ë£Œ</div>
                            <div class="activity-time">ë°©ê¸ˆ ì „</div>
                        </div>
                        <div class="activity-points">+100</div>
                    </div>
                </div>
            </div>

            <!-- ì—…ì  -->
            <div class="achievements">
                <div style="font-weight: bold; margin-bottom: 15px; font-size: 1.1em;">ğŸ† ì—…ì </div>
                <div class="achievement-grid">
                    <div class="achievement-card unlocked">
                        <div class="achievement-icon">ğŸ¯</div>
                        <div class="achievement-name">ì²« í¬ëª¨ë„ë¡œ</div>
                    </div>
                    <div class="achievement-card locked">
                        <div class="achievement-icon">ğŸ”’</div>
                        <div class="achievement-name">10íšŒ ë‹¬ì„±</div>
                    </div>
                    <div class="achievement-card locked">
                        <div class="achievement-icon">ğŸ”’</div>
                        <div class="achievement-name">ì—°ì† 7ì¼</div>
                    </div>
                    <div class="achievement-card locked">
                        <div class="achievement-icon">ğŸ”’</div>
                        <div class="achievement-name">ë ˆë²¨ 10</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì„¤ì • í™”ë©´ -->
        <div class="screen" id="settingsScreen">
            <div class="back-btn" onclick="showScreen('main')">â†</div>
            
            <div class="status-title">âš™ï¸ ì„¤ì •</div>

            <div class="settings-screen">
                <div class="setting-item">
                    <span class="setting-label">í¬ëª¨ë„ë¡œ ì‹œê°„</span>
                    <input type="number" class="setting-input" id="pomodoroInput" value="25" min="1" max="60">
                </div>
                <div class="setting-item">
                    <span class="setting-label">ì§§ì€ íœ´ì‹</span>
                    <input type="number" class="setting-input" id="shortBreakInput" value="5" min="1" max="30">
                </div>
                <div class="setting-item">
                    <span class="setting-label">ê¸´ íœ´ì‹</span>
                    <input type="number" class="setting-input" id="longBreakInput" value="15" min="1" max="60">
                </div>
                <div class="setting-item">
                    <span class="setting-label">ì‚¬ìš´ë“œ</span>
                    <input type="checkbox" id="soundToggle" checked style="width: 30px; height: 30px; cursor: pointer;">
                </div>
            </div>

            <!-- ë¦¬ì…‹ ë²„íŠ¼ -->
            <div style="margin-top: 30px; text-align: center;">
                <button class="control-btn" onclick="resetAllData()">ğŸ”„ ëª¨ë“  ë°ì´í„° ì´ˆê¸°í™”</button>
            </div>
        </div>

        <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
        <div class="nav-buttons">
            <button class="nav-btn active" onclick="showScreen('main')">ğŸ </button>
            <button class="nav-btn" onclick="showScreen('history')">ğŸ“Š</button>
            <button class="nav-btn" onclick="showScreen('settings')">âš™ï¸</button>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let timerInterval = null;
        let timeLeft = 25 * 60;
        let isRunning = false;
        let totalSeconds = 25 * 60;
        let completedPomodoros = 0;
        let streak = 0;
        let totalMinutes = 0;
        let points = 0;
        let level = 1;
        let currentMode = 'idle';
        let totalPomodoros = 0;

        // RPG ìŠ¤íƒ¯
        let stats = {
            intelligence: 0,
            health: 0,
            beauty: 0,
            social: 0
        };

        // ë“œë˜ê·¸ ê´€ë ¨ ë³€ìˆ˜
        let isDragging = false;
        let circleCenter = { x: 0, y: 0 };
        let circleRadius = 130;
        let currentAngle = 0;

        // ì„¤ì •
        let settings = {
            pomodoro: 25,
            shortBreak: 5,
            longBreak: 15,
            sound: true
        };

        // ì´ˆê¸°í™”
        function init() {
            loadData();
            updateDisplay();
            updateStats();
            createWeeklyChart();
            setupDragOrb();
        }

        // ë“œë˜ê·¸ ì˜¤ë¸Œ ì„¤ì •
        function setupDragOrb() {
            const orb = document.getElementById('timerOrb');
            const mainCircle = document.querySelector('.main-circle');
            
            // ì›ì˜ ì¤‘ì‹¬ì  ê³„ì‚°
            const rect = mainCircle.getBoundingClientRect();
            circleCenter = {
                x: rect.left + rect.width / 2,
                y: rect.top + rect.height / 2
            };

            // í„°ì¹˜ ì´ë²¤íŠ¸
            orb.addEventListener('touchstart', startDrag);
            orb.addEventListener('mousedown', startDrag);
            
            document.addEventListener('touchmove', drag);
            document.addEventListener('mousemove', drag);
            
            document.addEventListener('touchend', endDrag);
            document.addEventListener('mouseup', endDrag);

            // ì´ˆê¸° ìœ„ì¹˜ ì„¤ì • (12ì‹œ ë°©í–¥)
            updateOrbPosition(currentAngle);
        }

        function startDrag(e) {
            if (isRunning) return; // íƒ€ì´ë¨¸ ì‘ë™ ì¤‘ì—ëŠ” ë“œë˜ê·¸ ë¶ˆê°€
            
            isDragging = true;
            document.getElementById('timerOrb').classList.add('dragging');
            e.preventDefault();
        }

        function drag(e) {
            if (!isDragging || isRunning) return;

            const touch = e.touches ? e.touches[0] : e;
            const mainCircle = document.querySelector('.main-circle');
            const rect = mainCircle.getBoundingClientRect();
            
            // ë§ˆìš°ìŠ¤/í„°ì¹˜ ìœ„ì¹˜
            const mouseX = touch.clientX;
            const mouseY = touch.clientY;
            
            // ì›ì˜ ì¤‘ì‹¬ì 
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            // ê°ë„ ê³„ì‚° (ë¼ë””ì•ˆ)
            let angle = Math.atan2(mouseY - centerY, mouseX - centerX);
            
            // 12ì‹œ ë°©í–¥ì„ 0ë„ë¡œ ë§Œë“¤ê¸° ìœ„í•´ ì¡°ì • (Math.atan2ëŠ” 3ì‹œ ë°©í–¥ì´ 0)
            angle = angle + Math.PI / 2;
            
            // ìŒìˆ˜ ê°ë„ë¥¼ ì–‘ìˆ˜ë¡œ ë³€í™˜
            if (angle < 0) {
                angle += 2 * Math.PI;
            }
            
            currentAngle = angle;
            
            // ì˜¤ë¸Œ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
            updateOrbPosition(angle);
            
            // ì‹œê°„ ê³„ì‚° (1~120ë¶„, ì›ì„ í•œ ë°”í€´ ëŒë©´ 120ë¶„)
            const minutes = Math.max(1, Math.round((angle / (2 * Math.PI)) * 120));
            document.getElementById('orbTime').textContent = minutes;
            
            // ì„¤ì •ëœ ì‹œê°„ ì—…ë°ì´íŠ¸
            settings.pomodoro = minutes;
            timeLeft = minutes * 60;
            totalSeconds = timeLeft;
            updateDisplay();
        }

        function endDrag() {
            if (!isDragging) return;
            
            isDragging = false;
            document.getElementById('timerOrb').classList.remove('dragging');
            
            // ì˜¤ë¸Œë¥¼ í´ë¦­í•œ ê²½ìš° (ë“œë˜ê·¸ ì•ˆí•¨) - íƒ€ì´ë¨¸ ì‹œì‘
            if (!isRunning) {
                startTimer();
            }
        }

        function updateOrbPosition(angle) {
            const orb = document.getElementById('timerOrb');
            const mainCircle = document.querySelector('.main-circle');
            
            // ì›ì˜ ì¤‘ì‹¬ì—ì„œì˜ ìƒëŒ€ ìœ„ì¹˜ ê³„ì‚°
            const x = Math.cos(angle - Math.PI / 2) * circleRadius;
            const y = Math.sin(angle - Math.PI / 2) * circleRadius;
            
            // ì˜¤ë¸Œ ìœ„ì¹˜ ì„¤ì • (main-circle ë‚´ë¶€ ê¸°ì¤€)
            orb.style.left = `calc(50% + ${x}px)`;
            orb.style.top = `calc(50% + ${y}px)`;
        }

        // íƒ€ì´ë¨¸ ì‹œì‘
        function startTimer() {
            if (isRunning) return;
            
            isRunning = true;
            currentMode = 'focus';
            updateTag();
            
            // ì˜¤ë¸Œ ìˆ¨ê¸°ê¸°
            document.getElementById('timerOrb').style.display = 'none';
            
            // íƒ€ì´ë¨¸ ë””ìŠ¤í”Œë ˆì´ì™€ ì»¨íŠ¸ë¡¤ í‘œì‹œ
            document.getElementById('mainTimerDisplay').classList.add('show');
            document.getElementById('mainControls').classList.add('show');

            timerInterval = setInterval(() => {
                timeLeft--;
                updateDisplay();
                updateProgress();

                if (timeLeft <= 0) {
                    completePomodoro();
                }
            }, 1000);
        }

        // íƒ€ì´ë¨¸ ì¼ì‹œì •ì§€
        function pauseTimer() {
            isRunning = false;
            currentMode = 'idle';
            updateTag();
            clearInterval(timerInterval);
            
            // ì˜¤ë¸Œ ë‹¤ì‹œ í‘œì‹œ
            document.getElementById('timerOrb').style.display = 'block';
            
            // íƒ€ì´ë¨¸ ë””ìŠ¤í”Œë ˆì´ì™€ ì»¨íŠ¸ë¡¤ ìˆ¨ê¸°ê¸°
            document.getElementById('mainTimerDisplay').classList.remove('show');
            document.getElementById('mainControls').classList.remove('show');
            
            // ì˜¤ë¸Œ ìœ„ì¹˜ ì´ˆê¸°í™”
            currentAngle = 0;
            updateOrbPosition(currentAngle);
            document.getElementById('orbTime').textContent = settings.pomodoro;
        }

        // íƒ€ì´ë¨¸ ë¦¬ì…‹
        function resetTimer() {
            pauseTimer();
            timeLeft = settings.pomodoro * 60;
            totalSeconds = timeLeft;
            updateDisplay();
            updateProgress();
        }

        // í¬ëª¨ë„ë¡œ ì™„ë£Œ
        function completePomodoro() {
            pauseTimer();
            completedPomodoros++;
            totalPomodoros++;
            totalMinutes += settings.pomodoro;
            streak++;
            points += 100;
            
            // ëœë¤ ìŠ¤íƒ¯ ì¦ê°€!
            increaseRandomStat();
            
            // ë ˆë²¨ì—… ì²´í¬ (500ì ë§ˆë‹¤)
            if (points >= level * 500) {
                level++;
                showNotification('ğŸ‰ ë ˆë²¨ ì—…! Level ' + level);
            }

            currentMode = 'complete';
            updateTag();
            updateStats();
            saveData();
            
            showNotification('ğŸ‰ í¬ëª¨ë„ë¡œ ì™„ë£Œ! +100 í¬ì¸íŠ¸');
            playSound();

            // ì™„ë£Œ í›„ ì´ˆê¸°í™”
            setTimeout(() => {
                timeLeft = settings.pomodoro * 60;
                totalSeconds = timeLeft;
                currentMode = 'idle';
                updateTag();
                updateDisplay();
                updateProgress();
            }, 3000);
        }

        // ë””ìŠ¤í”Œë ˆì´ ì—…ë°ì´íŠ¸
        function updateDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('mainTimerDisplay').textContent = display;
        }

        // ì›í˜• ì§„í–‰ë°” ì—…ë°ì´íŠ¸
        function updateProgress() {
            const circle = document.getElementById('progressCircle');
            const circumference = 2 * Math.PI * 130;
            const progress = (totalSeconds - timeLeft) / totalSeconds;
            const offset = circumference - (progress * circumference);
            circle.style.strokeDashoffset = offset;
        }

        // íƒœê·¸ ì—…ë°ì´íŠ¸
        function updateTag() {
            const tags = {
                'idle': 'ë“œë˜ê·¸í•´ì„œ ì‹œê°„ ì„¤ì •',
                'focus': 'ì§‘ì¤‘ ì¤‘...',
                'rest': 'íœ´ì‹ ì¤‘...',
                'complete': 'ì™„ë£Œ!'
            };
            document.getElementById('currentTag').textContent = tags[currentMode];
        }

        // í†µê³„ ì—…ë°ì´íŠ¸
        function updateStats() {
            document.getElementById('pointBadge').textContent = 'Point: ' + points;
            document.getElementById('completedSessions').textContent = completedPomodoros;
            document.getElementById('streakCount').textContent = streak;
            document.getElementById('totalTime').textContent = Math.floor(totalMinutes / 60) + 'h';
            document.getElementById('levelDisplay').textContent = level;
        }

        // í™”ë©´ ì „í™˜
        function showScreen(screenName) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });

            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            const screens = {
                'main': ['mainScreen', 0],
                'character': ['characterScreen', null],
                'history': ['historyScreen', 1],
                'settings': ['settingsScreen', 2]
            };

            const [screenId, navIndex] = screens[screenName];
            document.getElementById(screenId).classList.add('active');
            
            if (navIndex !== null) {
                document.querySelectorAll('.nav-btn')[navIndex].classList.add('active');
            }
        }

        // í†µê³„ ì—…ë°ì´íŠ¸
        function updateStats() {
            // í—¤ë” í¬ì¸íŠ¸
            document.getElementById('pointBadge').textContent = 'Point: ' + points;
            
            // ìºë¦­í„° í™”ë©´ - ë ˆë²¨ & ê²½í—˜ì¹˜
            document.getElementById('characterLevel').textContent = level;
            const expProgress = (points % 500) / 500 * 100;
            document.getElementById('expBar').style.width = expProgress + '%';
            document.getElementById('expText').textContent = (points % 500) + ' / 500 XP';
            
            // RPG ìŠ¤íƒ¯ ì—…ë°ì´íŠ¸
            document.getElementById('statIntelligence').textContent = stats.intelligence;
            document.getElementById('statHealth').textContent = stats.health;
            document.getElementById('statBeauty').textContent = stats.beauty;
            document.getElementById('statSocial').textContent = stats.social;
            
            // ìŠ¤íƒ¯ ë°” (ìµœëŒ€ 100)
            document.getElementById('barIntelligence').style.width = Math.min(stats.intelligence, 100) + '%';
            document.getElementById('barHealth').style.width = Math.min(stats.health, 100) + '%';
            document.getElementById('barBeauty').style.width = Math.min(stats.beauty, 100) + '%';
            document.getElementById('barSocial').style.width = Math.min(stats.social, 100) + '%';
            
            // ì´í•©
            const totalStats = stats.intelligence + stats.health + stats.beauty + stats.social;
            document.getElementById('totalStatPoints').textContent = totalStats;
            document.getElementById('totalPomodoros').textContent = completedPomodoros;
            
            // History í™”ë©´
            document.getElementById('todaySessions').textContent = completedPomodoros + 'íšŒ';
            document.getElementById('weekSessions').textContent = completedPomodoros + 'íšŒ';
            document.getElementById('totalSessions').textContent = totalPomodoros + 'íšŒ';
            
            // ìºë¦­í„° ìƒíƒœ ë©”ì‹œì§€ ì—…ë°ì´íŠ¸
            updateCharacterMood();
        }

        // ëœë¤ ìŠ¤íƒ¯ ì¦ê°€ (í¬ëª¨ë„ë¡œ ì™„ë£Œ ì‹œ)
        function increaseRandomStat() {
            const statNames = ['intelligence', 'health', 'beauty', 'social'];
            const randomStat = statNames[Math.floor(Math.random() * statNames.length)];
            const increase = Math.floor(Math.random() * 3) + 2; // 2~4 ì¦ê°€
            
            stats[randomStat] += increase;
            
            const statKorean = {
                'intelligence': 'ì§€ëŠ¥',
                'health': 'ì²´ë ¥',
                'beauty': 'ë§¤ë ¥',
                'social': 'ì‚¬íšŒì„±'
            };
            
            showNotification(`âœ¨ ${statKorean[randomStat]} +${increase}!`);
        }

        // ìºë¦­í„° ìƒíƒœ ë©”ì‹œì§€
        function updateCharacterMood() {
            const totalStats = stats.intelligence + stats.health + stats.beauty + stats.social;
            
            const moods = [
                { icon: 'ğŸ˜Š', text: 'ì—´ì‹¬íˆ ì„±ì¥í•˜ê³  ìˆì–´ìš”!', min: 0 },
                { icon: 'ğŸ˜„', text: 'ì¢‹ì•„ìš”! ìŠ¤íƒ¯ì´ ì˜¬ë¼ê°€ê³  ìˆì–´ìš”!', min: 20 },
                { icon: 'ğŸ¤—', text: 'í›Œë¥­í•´ìš”! ë§ì´ ì„±ì¥í–ˆì–´ìš”!', min: 50 },
                { icon: 'ğŸ’ª', text: 'ëŒ€ë‹¨í•´ìš”! ê°•ë ¥í•œ ìºë¦­í„°ê°€ ë˜ê³  ìˆì–´ìš”!', min: 100 },
                { icon: 'ğŸŒŸ', text: 'ì™„ë²½í•´ìš”! ìµœê°• ìºë¦­í„°ì˜ˆìš”!', min: 150 },
                { icon: 'ğŸ‘‘', text: 'ì „ì„¤ì´ì—ìš”! ê²½ì´ë¡œì›Œìš”!', min: 200 }
            ];
            
            const currentMood = moods.reverse().find(mood => totalStats >= mood.min) || moods[moods.length - 1];
            document.getElementById('characterMood').innerHTML = `
                <div class="mood-icon">${currentMood.icon}</div>
                <div class="mood-text">${currentMood.text}</div>
            `;
        }

        // ì£¼ê°„ ì°¨íŠ¸ ìƒì„±
        function createWeeklyChart() {
            const days = ['ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† ', 'ì¼'];
            const chartContainer = document.getElementById('weeklyChart');
            chartContainer.innerHTML = '';

            const data = [3, 5, 2, 7, 4, 6, 1];

            data.forEach((value, index) => {
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.style.height = (value * 20) + 'px';
                
                const label = document.createElement('div');
                label.className = 'chart-label';
                label.textContent = days[index];
                bar.appendChild(label);
                
                chartContainer.appendChild(bar);
            });
        }

        // ì•Œë¦¼ í‘œì‹œ
        function showNotification(text) {
            const notification = document.getElementById('notification');
            document.getElementById('notificationText').textContent = text;
            notification.classList.add('show');

            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // ì‚¬ìš´ë“œ ì¬ìƒ
        function playSound() {
            if (!settings.sound) return;
            
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.frequency.value = 800;
            oscillator.type = 'sine';

            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.5);
        }

        // ë°ì´í„° ì €ì¥
        function saveData() {
            const data = {
                completedPomodoros,
                totalPomodoros,
                streak,
                totalMinutes,
                points,
                level,
                stats,
                date: new Date().toDateString()
            };
            localStorage.setItem('pomodoroData', JSON.stringify(data));
        }

        // ë°ì´í„° ë¡œë“œ
        function loadData() {
            const saved = localStorage.getItem('pomodoroData');
            if (saved) {
                const data = JSON.parse(saved);
                
                if (data.date === new Date().toDateString()) {
                    completedPomodoros = data.completedPomodoros || 0;
                    totalPomodoros = data.totalPomodoros || 0;
                    streak = data.streak || 0;
                    totalMinutes = data.totalMinutes || 0;
                    points = data.points || 0;
                    level = data.level || 1;
                    
                    // ìŠ¤íƒ¯ ë¡œë“œ
                    if (data.stats) {
                        stats = data.stats;
                    }
                } else {
                    // ë‹¤ë¥¸ ë‚ ì´ë©´ ì¼ì¼ ë°ì´í„°ë§Œ ì´ˆê¸°í™”
                    completedPomodoros = 0;
                    // ìŠ¤íƒ¯ê³¼ ë ˆë²¨ì€ ìœ ì§€
                    if (data.stats) stats = data.stats;
                    if (data.level) level = data.level;
                    if (data.points) points = data.points;
                    if (data.totalPomodoros) totalPomodoros = data.totalPomodoros;
                }
            }

            const savedSettings = localStorage.getItem('pomodoroSettings');
            if (savedSettings) {
                settings = JSON.parse(savedSettings);
                document.getElementById('pomodoroInput').value = settings.pomodoro;
                document.getElementById('shortBreakInput').value = settings.shortBreak;
                document.getElementById('longBreakInput').value = settings.longBreak;
                document.getElementById('soundToggle').checked = settings.sound;
            }

            timeLeft = settings.pomodoro * 60;
            totalSeconds = timeLeft;
            document.getElementById('orbTime').textContent = settings.pomodoro;
        }

        // ì„¤ì • ë³€ê²½ ì´ë²¤íŠ¸
        document.getElementById('pomodoroInput').addEventListener('change', function() {
            settings.pomodoro = parseInt(this.value);
            localStorage.setItem('pomodoroSettings', JSON.stringify(settings));
            if (!isRunning) {
                timeLeft = settings.pomodoro * 60;
                totalSeconds = timeLeft;
                updateDisplay();
                updateProgress();
                document.getElementById('orbTime').textContent = settings.pomodoro;
            }
        });

        document.getElementById('shortBreakInput').addEventListener('change', function() {
            settings.shortBreak = parseInt(this.value);
            localStorage.setItem('pomodoroSettings', JSON.stringify(settings));
        });

        document.getElementById('longBreakInput').addEventListener('change', function() {
            settings.longBreak = parseInt(this.value);
            localStorage.setItem('pomodoroSettings', JSON.stringify(settings));
        });

        document.getElementById('soundToggle').addEventListener('change', function() {
            settings.sound = this.checked;
            localStorage.setItem('pomodoroSettings', JSON.stringify(settings));
        });

        // ëª¨ë“  ë°ì´í„° ì´ˆê¸°í™”
        function resetAllData() {
            if (confirm('ì •ë§ë¡œ ëª¨ë“  ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                localStorage.clear();
                completedPomodoros = 0;
                totalPomodoros = 0;
                streak = 0;
                totalMinutes = 0;
                points = 0;
                level = 1;
                stats = {
                    intelligence: 0,
                    health: 0,
                    beauty: 0,
                    social: 0
                };
                updateStats();
                showNotification('âœ¨ ë°ì´í„°ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤');
            }
        }

        // ì´ˆê¸°í™” ì‹¤í–‰
        init();
    </script>
</body>
</html>
